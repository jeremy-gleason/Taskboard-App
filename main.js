(()=>{"use strict";const t={projectsBody:document.querySelector(".projects-body"),newTitle:document.getElementById("title"),newDescription:document.getElementById("description"),displayProject:function(t,e,n){const i=document.createElement("article");i.setAttribute("id",n);const s=document.createElement("h3");s.innerText=t;const d=document.createElement("p");d.innerText=e;const c=document.createElement("button");c.setAttribute("type","button"),c.classList.add("edit"),c.innerText="Edit";const o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("delete"),o.innerText="Delete";const a=document.createElement("div");a.classList.add("hidden");const l=document.createElement("input");l.setAttribute("type","text"),l.classList.add("new-title"),l.setAttribute("value",t),a.appendChild(l);const r=document.createElement("div");r.classList.add("hidden");const u=document.createElement("textarea");u.setAttribute("rows","3"),u.classList.add("new-descrip"),u.setAttribute("value",e),r.appendChild(u);const p=document.createElement("button");p.setAttribute("type","button"),p.classList.add("confirm","hidden"),p.innerText="Confirm";const h=document.createElement("button");h.setAttribute("type","button"),h.classList.add("discard-changes","hidden"),h.innerText="Discard Changes",i.appendChild(s),i.appendChild(d),i.appendChild(c),i.appendChild(o),i.appendChild(a),i.appendChild(r),i.appendChild(p),i.appendChild(h),this.projectsBody.appendChild(i)},updateProject:function(t,e,n){const i=t.childNodes;for(let t=0;t<i.length;t++)console.log(i[t]),"H3"===i[t].tagName&&(i[t].textContent=e),"P"===i[t].tagName&&(i[t].textContent=n)},displayMessage:function(){const t=document.createElement("p");t.setAttribute("id","no-projects"),t.innerText="You haven't added any projects yet.",this.projectsBody.appendChild(t)},clearDisplay:function(){for(;this.projectsBody.hasChildNodes();)this.projectsBody.removeChild(this.projectsBody.firstChild)},clearForm:function(){this.newTitle.value="",this.newDescription.value=""},toggleEditMenu:function(t){const e=t.childNodes;for(let t=0;t<e.length;t++)e[t].classList.contains("hidden")?e[t].classList.remove("hidden"):e[t].classList.add("hidden")},updateInputFields:function(t,e,n){console.log(t,e,n);const i=t.childNodes;for(let t=0;t<i.length;t++)"DIV"===i[t].tagName&&i[t].firstChild.classList.contains("new-title")&&(i[t].firstChild.value=e),"DIV"===i[t].tagName&&i[t].firstChild.classList.contains("new-descrip")&&(i[t].firstChild.value=n)},getTitle:function(){return this.newTitle.value},getDescription:function(){return this.newDescription.value}},e=document.getElementById("add-new"),n=document.querySelector(".projects-body"),i=[];function s(e){t.clearDisplay();for(let n=0;n<e.length;n++){const i=e[n];t.displayProject(i.getTitle(),i.getDescription(),n)}}e.addEventListener("click",(function(e){const n=((t,e)=>{const n=[];return{getTitle:()=>t,getDescription:()=>e,changeTitle:e=>t=e,changeDescription:t=>e=t,getTasks:()=>n,addTask:t=>n.push(t),removeTask:t=>n.splice(t,1)}})(t.getTitle(),t.getDescription());i.push(n),t.clearForm(),s(i)})),n.addEventListener("click",(function(e){var n;e.target.classList.contains("edit")&&t.toggleEditMenu(e.target.parentNode),e.target.classList.contains("delete")&&function(e){const n=parseInt(e.getAttribute("id"));i.splice(n,1),s(i),0===i.length&&t.displayMessage()}(e.target.parentNode),e.target.classList.contains("confirm")&&function(e){let n,s;const d=e.childNodes;for(let t=0;t<d.length;t++)"DIV"===d[t].tagName&&d[t].firstChild.classList.contains("new-title")&&(n=d[t].firstChild.value),"DIV"===d[t].tagName&&d[t].firstChild.classList.contains("new-descrip")&&(s=d[t].firstChild.value);i[e.getAttribute("id")].changeTitle(n),i[e.getAttribute("id")].changeDescription(s),t.updateProject(e,n,s),t.toggleEditMenu(e)}(e.target.parentNode),e.target.classList.contains("discard-changes")&&(n=e.target.parentNode,t.updateInputFields(n,i[n.getAttribute("id")].getTitle(),i[n.getAttribute("id")].getDescription()),t.toggleEditMenu(e.target.parentNode))}))})();